inventory_providers:
  - sops_file:
      path: ./data/hosts

property_providers:
  - add_default:
      properties:
        preferred_driver: mitamae
        sudo_required: false
        sudo_command: doas
        ssh_options:
          user: root

  - ruby_script:
      file: lib/property_script.rb

driver_options:
  mitamae:
    mitamae_path: /usr/local/bin/mitamae
    mitamae_options:
      - --log-level
      - debug
    mitamae_prepare_script: |
      chmod +x /usr/local/bin/mitamae
      /usr/local/bin/mitamae version

initializers:
  - lib/mitamae_ext.rb
  - lib/mitamae_defines.rb
