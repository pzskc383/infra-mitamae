$ORIGIN pzskc383.net.
$TTL 30m

@ IN SOA a.ns hostmaster ( 1 4h 1h 2w 1h )

@ IN NS a.ns
@ IN NS b.ns

a.ns IN A <%= @hosts[:f0rk][:v4] %>
b.ns IN A <%= @hosts[:airstrip1][:v4] %>

@ IN NSEC3PARAM 1 0 0 -

@ IN CAA 128 issue "letsencrypt.org;validationmethods=dns-01"
@ IN CAA 128 issuewild "letsencrypt.org;validationmethods=dns-01"
@ IN CAA 128 iodef "mailto:abuse@pzskc383.net"

<% @hosts.each do |hostname, data| -%>
<%= data[:dns_shortname] %> IN A <%= data[:v4] %>
<%= data[:dns_shortname] %> IN AAAA <%= data[:v6] %>
<% end -%>

@ IN A <%= @hosts["airstrip1"][:v4] %>
@ IN AAAA <%= @hosts["airstrip1"][:v6] %>

<% @hosts.each do |hostname, data| -%>
<%= hostname %> IN CNAME <%= data[:dns_shortname] %>
<% end -%>

@ IN MX 10 a1
@ IN MX 20 b0

@ IN TXT "v=spf1 mx -all"
<% @hosts.each do |hostname, data| -%>
<%= hostname %> IN TXT "v=spf1 a -all"
<% end -%>

_dmarc IN TXT " v=DMARC1; p=quarantine; rua=mailto:abuse@pzskc383.net; ruf=mailto:abuse@pzskc383.net; sp=quarantine; fo=0; pct=100; adkim=s; aspf=s"

e._domainkey IN TXT "v=DKIM1;k=ed25519;" "p=+QluNm6JPmWMlA/wqWB89UznXVpJqBk9tb9p1ay9yKg="
r._domainkey IN TXT ( "v=DKIM1;k=rsa;" "p=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4693R3729fCFcdyUhge1GjIyx+pC/yPOmjsMYGs+WGRHzAz5Q3HiJT15MCyBw9T8T+Uk8i0c61y9YEUFm417R9QxPEta/eL54eLRZCLBpjiP0En5ftpO03cs2ArUd2tH54LPHxml7C0Ln+6XIJCZ/MRBcsXLnT/p9O8zXBWSx32ZU6+N7C4tfNwJ0o9WoMizVlQi2TuVNkDAAhBuC" "YA4KTCJBcvkZoMPbZJ+sZkMfrfSq7VafWtUxXjvnFVfD8elpCjRAH9JfnENgc+MANTVKE/BBNcCRjoUGgY+fCrmFOSkGEQDeo+76apJJA2DaBiUY/uYIPFaprB7lR0AnsabWwIDAQAB" )

_smtp._tls IN TXT "v=TLSRPTv1; rua=mailto:abuse@pzskc383.net"

_submission._tcp IN SRV 0 0 587 a1
_imap._tcp IN SRV 0 0 143 a1

_xmpp-client._tcp IN SRV 0 0 5222 a1
_xmpp-server._tcp IN SRV 0 0 5269 a1
_xmpps-client._tcp IN SRV 0 0 5223 a1
_xmpps-server._tcp IN SRV 0 0 5270 a1

f0 IN SSHFP 4 2 44bdb60a2540ac1034fae5e85b7d20fce866d8beb18bc92c263407be8e0c008e
a1 IN SSHFP 4 2 06b503cdb485096716ac1f13249710d0bf85a1ab5dfd938b5233639042a0d058
b0 IN SSHFP 4 2 27c335018f315244051f13c9cbfa1904894fb698906ef0db378c1acb483078b6
a2 IN SSHFP 4 2 b286bd1c4d4284da38cae475a7865da4d3ca9dca766b55d1e6c6f115a532a136
